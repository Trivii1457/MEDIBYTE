@model DicomViewerModel
@{
    Layout = null;
}
<!DOCTYPE html>
<html>

<head>
    <title>DICOM Web Viewer</title>
    <meta charset="UTF-8">
    <meta name="description" content="Medical viewer using DWV (DICOM Web Viewer) and jQery Mobile.">
    <meta name="keywords" content="DICOM,HTML5,JavaScript,medical,imaging,DWV">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="theme-color" content="#2F3BA2" />
    <link rel="icon" type="image/x-icon" href="~/lib/dwv/favicon.ico">
    <link rel="manifest" href="~/lib/dwv/manifest.json">
    <link type="text/css" rel="stylesheet" href="~/lib/dwv/css/style.css" />
    <link type="text/css" rel="stylesheet" href="~/lib/dwv/ext/jquery-mobile/jquery.mobile-1.4.5.min.css" />
    <link type="text/css" rel="stylesheet" href="~/lib/dwv/libs/nprogress/nprogress.css" />

    <!-- mobile web app -->
    <!--<meta name="mobile-web-app-capable" content="yes" />
    <link rel="shortcut icon" sizes="16x16" href="~/lib/dwv/resources/icons/icon-16.png" />
    <link rel="shortcut icon" sizes="32x32" href="~/lib/dwv/resources/icons/icon-32.png" />
    <link rel="shortcut icon" sizes="64x64" href="~/lib/dwv/resources/icons/icon-64.png" />
    <link rel="shortcut icon" sizes="128x128" href="~/lib/dwv/resources/icons/icon-128.png" />
    <link rel="shortcut icon" sizes="256x256" href="~/lib/dwv/resources/icons/icon-256.png" />-->
    <!-- apple specific -->
    <!--<meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <link rel="apple-touch-icon" sizes="16x16" href="~/lib/dwv/resources/icons/icon-16.png" />
    <link rel="apple-touch-icon" sizes="32x32" href="~/lib/dwv/resources/icons/icon-32.png" />
    <link rel="apple-touch-icon" sizes="64x64" href="~/lib/dwv/resources/icons/icon-64.png" />
    <link rel="apple-touch-icon" sizes="128x128" href="~/lib/dwv/resources/icons/icon-128.png" />
    <link rel="apple-touch-icon" sizes="256x256" href="~/lib/dwv/resources/icons/icon-256.png" />-->
    <!-- Third party (dwv) -->
    <script type="text/javascript" src="~/lib/dwv/libs/i18next/i18next.js"></script>
    <script type="text/javascript" src="~/lib/dwv/libs/i18next-xhr-backend/i18nextXHRBackend.js"></script>
    <script type="text/javascript" src="~/lib/dwv/libs/i18next-browser-languagedetector/i18nextBrowserLanguageDetector.js"></script>
    <script type="text/javascript" src="~/lib/dwv/libs/jszip/dist/jszip.min.js"></script>
    <script type="text/javascript" src="~/lib/dwv/libs/konva/konva.min.js"></script>
    <script type="text/javascript" src="~/lib/dwv/libs/magic-wand-js/js/magic-wand-min.js"></script>
    <!-- Third party (viewer) -->
    <script type="text/javascript" src="~/lib/dwv/libs/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="~/lib/dwv/ext/jquery-mobile/jquery.mobile-1.4.5.min.js"></script>
    <script type="text/javascript" src="~/lib/dwv/libs/nprogress/nprogress.js"></script>
    <script type="text/javascript" src="~/lib/dwv/ext/flot/jquery.flot.min.js"></script>
    <!-- decoders -->
    <script type="text/javascript" src="~/lib/dwv/libs/dwv/decoders/dwv/rle.js"></script>
    <script type="text/javascript" src="~/lib/dwv/libs/dwv/decoders/pdfjs/jpx.js"></script>
    <script type="text/javascript" src="~/lib/dwv/libs/dwv/decoders/pdfjs/util.js"></script>
    <script type="text/javascript" src="~/lib/dwv/libs/dwv/decoders/pdfjs/arithmetic_decoder.js"></script>
    <script type="text/javascript" src="~/lib/dwv/libs/dwv/decoders/pdfjs/jpg.js"></script>
    <script type="text/javascript" src="~/lib/dwv/libs/dwv/decoders/rii-mango/lossless-min.js"></script>
    <!-- dwv -->
    <script type="text/javascript" src="~/lib/dwv/libs/dwv/dist/dwv.js"></script>

    <!-- Google -->
    <!--<script type="text/javascript" src="~/lib/dwv/ext/google-api-javascript-client/client.js"></script>
    <script type="text/javascript" src="~/lib/dwv/ext/google-api-javascript-client/api.js"></script>
    <script type="text/javascript" src="~/lib/dwv/src/google.js"></script>-->
    <!-- Dropbox -->
    <!--<script type="text/javascript" src="~/lib/dwv/ext/dropbox-dropins/dropins.js"
            id="dropboxjs" data-app-key="96u3396jtx3bwr8"></script>
    <script type="text/javascript" src="~/lib/dwv/src/dropbox.js"></script>-->
    <!-- browser -->
    <script type="text/javascript" src="~/lib/dwv/src/utils/browser.js"></script>
    <script type="text/javascript" src="~/lib/dwv/src/utils/modernizr.js"></script>

    <!-- gui -->
    <script type="text/javascript" src="~/lib/dwv/src/gui/custom.js"></script>
    <script type="text/javascript" src="~/lib/dwv/src/gui/dropboxLoader.js"></script>
    <script type="text/javascript" src="~/lib/dwv/src/gui/filter.js"></script>
    <script type="text/javascript" src="~/lib/dwv/src/gui/generic.js"></script>
    <script type="text/javascript" src="~/lib/dwv/src/gui/help.js"></script>
    <script type="text/javascript" src="~/lib/dwv/src/gui/html.js"></script>
    <script type="text/javascript" src="~/lib/dwv/src/gui/infoController.js"></script>
    <script type="text/javascript" src="~/lib/dwv/src/gui/infoOverlay.js"></script>
    <script type="text/javascript" src="~/lib/dwv/src/gui/loader.js"></script>
    <script type="text/javascript" src="~/lib/dwv/src/gui/tools.js"></script>
    <script type="text/javascript" src="~/lib/dwv/src/gui/undo.js"></script>

    <!-- Launch the app -->
    @*<script type="text/javascript" src="~/lib/dwv/src/register-sw.js"></script>*@
    <script>
        //Se agrega esta variable para modificar libreria applauncher.js en el metodo dwv.i18nInitialise
        // queda asi en la linea 264: dwv.i18nInitialise("auto", rutaDWVRelativa + "dwv");
        var rutaDWVRelativa = "/lib/dwv/libs/";

    </script>
    <script type="text/javascript" src="~/lib/dwv/src/appgui.js"></script>
    <script type="text/javascript" src="~/lib/dwv/src/applauncher.js"></script>

    <script defer>

        $(document).ready(function () {
            startApp();
            if ("@Model.TieneImagen" == "True") {
                if ("@Model.EsDesdeDisco" == "True") {
                    console.log("@(Model.EnlaceDisco)");
                    myapp.loadURLs(["@(Model.EnlaceDisco)"]);
                } else {
                    console.log("@(Model.EnlaceAzure)");
                    myapp.loadURLs(["@(Model.EnlaceAzure)"]);
                }
            }
        });

    </script>

</head>

<body>

    <!-- Main page -->
    <div data-role="page" data-theme="b" id="main">

        <!-- pageHeader #dwvversion -->
        <div id="pageHeader" data-role="header" data-position="fixed">
            <div style="float: left;margin-top: 10px;margin-left: 10px;">
                <img src="~/images/logo_letras_blanco-G.png" alt="CloutOneSoft" width="120" />
            </div>
            <h1>DWV @*<span class="dwv-version"></span>*@</h1>
            <a href="#help_page" data-icon="carat-r" class="ui-btn-right"
               data-transition="slide" data-i18n="basics.help">Help</a>
        </div><!-- /pageHeader -->
        <!-- DWV -->
        <div id="dwv">

            <div id="pageMain" data-role="content">

                <!-- Toolbar -->
                <div class="toolbar"></div>

                <!-- Auth popup -->
                <!--<div data-role="popup" id="popupAuth">
                    <a href="#" data-rel="back" data-role="button" data-icon="delete"
                       data-iconpos="notext" class="ui-btn-right" data-i18n="basics.close">Close</a>
                    <div style="padding:10px 20px;">
                        <h3 data-i18n="io.GoogleDrive.auth.title">Google Drive Authorization</h3>
                        <p data-i18n="io.GoogleDrive.auth.body">
                            Please authorize DWV to access your Google Drive.
                            <br>This is only needed the first time you connect.
                        </p>
                        <button id="gauth-button" class="ui-btn" data-i18n="io.GoogleDrive.auth.button">Authorize</button>
                    </div>
                </div>-->
                <!-- /popup -->
                <!-- Open popup -->
                <div data-role="popup" id="popupOpen">
                    <a href="#" data-rel="back" data-role="button" data-icon="delete"
                       data-iconpos="notext" class="ui-btn-right" data-i18n="basics.close">Close</a>
                    <div style="padding:10px 20px;">
                        <h3 data-i18n="basics.open">Open</h3>
                        <div id="dwv-loaderlist"></div>
                    </div>
                </div><!-- /popup -->
                <!-- Layer Container -->
                <div class="layerContainer">
                    <canvas class="imageLayer">Only for HTML5 compatible browsers...</canvas>
                    <div class="dropBox dropBoxBorder"></div>
                    <div class="drawDiv"></div>
                    <div class="infoLayer">
                        <div class="infotl info"></div>
                        <div class="infotc infoc"></div>
                        <div class="infotr info"></div>
                        <div class="infocl infoc"></div>
                        <div class="infocr infoc"></div>
                        <div class="infobl info"></div>
                        <div class="infobc infoc"></div>
                        <div class="infobr info"></div>
                    </div><!-- /infoLayer -->
                </div><!-- /layerContainer -->
                <!-- History -->
                <div class="history" title="History" style="display:none;"></div>

            </div><!-- /page main -->
            <!-- pageFooter -->
            <div id="pageFooter" data-role="footer" data-position="fixed">
                <div data-role="navbar" class="toolList">
                </div><!-- /navbar -->
            </div><!-- /pageFooter -->

        </div><!-- /dwv -->

    </div><!-- /page -->
    <!-- Tags page -->
    <div data-role="page" data-theme="b" id="tags_page">

        <div data-role="header">
            <a href="#main" data-icon="back" data-transition="slide"
               data-direction="reverse" data-i18n="basics.back">Back</a>
            <h1 data-i18n="basics.dicomTags">DICOM Tags</h1>
        </div><!-- /header -->

        <div data-role="content">
            <!-- Tags -->
            <div id="dwv-tags" title="Tags"></div>
        </div><!-- /content -->

    </div><!-- /page tags_page-->
    <!-- Draw list page -->
    <div data-role="page" data-theme="b" id="drawList_page">

        <div data-role="header">
            <a href="#main" data-icon="back" data-transition="slide"
               data-direction="reverse" data-i18n="basics.back">Back</a>
            <h1 data-i18n="basics.drawList">Draw list</h1>
        </div><!-- /header -->

        <div data-role="content">
            <!-- DrawList -->
            <div id="dwv-drawList" title="Draw list"></div>
        </div><!-- /content -->

    </div><!-- /page draw-list_page-->
    <!-- Help page -->
    <div data-role="page" data-theme="b" id="help_page">

        <div data-role="header">
            <a href="#main" data-icon="back" data-transition="slide"
               data-direction="reverse" data-i18n="basics.back">Back</a>
            <h1 data-i18n="basics.help">Help</h1>
        </div><!-- /header -->

        <div data-role="content">
            <!-- Help -->
            <div id="dwv-help" title="Help"></div>
        </div><!-- /content -->

    </div><!-- /page help_page-->

</body>
</html>
